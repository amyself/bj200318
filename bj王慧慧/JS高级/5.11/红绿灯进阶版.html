<!DOCTYPE html>
<html>
<!-- 红灯时间可设置[把time值改一下] 绿灯时间可设置[把time值改一下] 黄灯时间设置了3秒 -->
<head>
    <meta charset="utf-8" />
    <title>
    </title>
    <style>
        .box { overflow: hidden; width: 400px; padding: 10px; background: black;
            border-radius: 20px; } .box div { width: 33.33%; float: left; text-align:
                center; } .red { width: 100px; height: 100px; background: #D7D7D7; border-radius:
                100px; display: block; margin: 0px auto; line-height: 100px; font-size:
                80px; color: #D7D7D7; } .yellow { width: 100px; height: 100px; background:
                #D7D7D7; border-radius: 100px; display: block; margin: 0px auto; line-height:
                100px; font-size: 80px; color: #D7D7D7; } .green { width: 100px; height:
                100px; background: #D7D7D7; border-radius: 100px; display: block; margin:
                0px auto; line-height: 100px; font-size: 80px; color: #D7D7D7; }
    </style>
</head>
<body>
<div class="box">
    <div>
				<span class="green">
				</span>
    </div>
    <div>
				<span class="yellow">
				</span>
    </div>
    <div>
				<span class="red">
				</span>
    </div>
</div>
<script>
    window.onload = function() {
        var time = 10; //可以设置红灯绿灯时间
        var yellowTime = 3;//黄灯的时间
        exec();
        setInterval(function() {
            exec();
        }, 1000 * (time * 2 + 3));

        function exec() {
            //绿灯
            green();
            //黄灯
            setTimeout(function() {
                yellow();
            }, 1000 * time);
            //红灯
            setTimeout(function() {
                red();
            }, 1000 * (time + 3));
        }



        function red() {

            var num = time;

            var timer = setInterval(function() {

                num--;

                var red = document.getElementsByClassName('red');

                red[0].innerHTML = num;

                red[0].style.background = 'red';

                if (num == -1) {

                    clearInterval(timer);

                    red[0].innerHTML = '';

                    red[0].style.background = '';

                }

            }, 1000);

        }



        function yellow() {

            var num = 3; // 黄灯时间设置了3秒

            var timer = setInterval(function() {

                num--;

                var yellow = document.getElementsByClassName('yellow');

                yellow[0].innerHTML = num;

                yellow[0].style.background = 'yellow';

                if (num == -1) {

                    clearInterval(timer);

                    yellow[0].innerHTML = '';

                    yellow[0].style.background = '';

                }

            }, 1000);

        }



        function green() {

            var num = time;

            var timer = setInterval(function() {

                num--;

                var green = document.getElementsByClassName('green');

                green[0].innerHTML = num;

                green[0].style.background = 'green';

                if (num == -1) {

                    clearInterval(timer);

                    green[0].innerHTML = '';

                    green[0].style.background = '';

                }

            }, 1000);

        }

    }
//    目前控制紅綠黃三個燈  分成了三個方法   绿灯10秒  黄灯3秒    红灯10秒
//    默认让绿灯的方法执行     10秒之后调用黄灯的方法    13秒之后调用红灯的方法
//
</script>
</body>

</html>